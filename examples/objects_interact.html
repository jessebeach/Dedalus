<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>A blank story</title>

    <script src="../src/html/plugins/doT.min.js"></script>
    <script src="../src/html/plugins/jquery.min.js"></script>
    <script src="../src/dedalus.js"></script>
    <script src="../src/dedalus-web.js"></script>

    <link rel="stylesheet" href="../src/html/themes/plain/story.css">

 </head>
<body>
  <div id="story">

    <initscript>
    </initscript>

    <beforeEveryThing>
    </beforeEveryThing>

    <beforeEveryPageTurn>
    </beforeEveryPageTurn>

    <beforeEveryParagraphShown>
    </beforeEveryParagraphShown>

    <afterEveryThing>
    </afterEveryThing>

    <afterEveryPageTurn>
    </afterEveryPageTurn>

    <afterEveryParagraphShown>
    </afterEveryParagraphShown>

    <!-- Novel -->
    <title>Blank Title</title>

    <!-- Objects -->
    <obj id="red" inventoryName="Red potion">
      <action id="Mix with">
        <with id="blue">The wizard mixes the red potion with the blue potion. The combined liquids sizzle and bubble.</with>
        <with id="yellow">The wizard mixes the red potion with the yellow potion. Noting happens.</with>
      </action>
    </obj>
    <obj id="blue" inventoryName="Blue potion">
      <action id="Mix with">
        <with id="red">The wizard mixes the blue potion with the red potion. The combined liquids sizzle and bubble.</with>
        <with id="yellow">The wizard mixes the blue potion with the yellow potion. The flask begins to shake and boil. Uh oh!</with>
      </action>
    </obj>
    <obj id="yellow" inventoryName="Yellow potion">
      <action id="Mix with">
        <with id="red">The wizard mixes the yellow potion with the red potion. Noting happens.</with>
        <with id="blue">The wizard mixes the yellow potion with the blue potion. The flask begins to shake and boil. Uh oh!</with>
      </action>
    </obj>

    <!-- Characters -->

    <!-- Pages -->
    <page id="intro">
      <p>It was a late night in the lab.</p>
    </page>

    <page id="start" class="first">
      <p>The wizard is on the verge of a breakthrough. Before him are three beakers.</p>
      <ul>
        <li><interact with="red">A flask of red potion</interact></li>
        <li><interact with="blue">A flask of blue potion</interact></li>
        <li><interact with="yellow">A flask of yellow potion</interact></li>
      </ul>
    </page>
  </div>

  <div id="wrapper">
    <div id="main" role="main">
      <h1 id="title"></h1>
      <div id="host" role="log" aria-live="assertive"></div>
    </div>
    <div id="inventoryHostWrapper" role="complementary">
      <h2>Inventory</h2>
      <div id="inventoryHost" role="log" aria-live="polite"></div>
    </div>
  </div>

  <div id="footer" role="navigation">
    <h2>Controls</h2>
    <ul>
      <li><a id="undoHost" href="#">Undo</a></li>
      <li><a id="saveHost" href="#">Save</a></li>
      <li><a id="restoreHost" href="#">Restore</a></li>
      <li><a id="reseteHost" href="#">Reset</a></li>
    </ul>
  </div>

  <div id="interactionHost" tabindex="-1"></div>

  <div id="undoStageHost" tabindex="-1"></div>

  <script>
    $(function () {
      new DedalusWeb({
        domSource         : $('#story'),
        domTarget         : $('#host'),
        titleTarget       : $('#title'),
        inventoryTarget   : $('#inventoryHost'),
        interactionTarget : $('#interactionHost'),
        undoTarget        : $('#undoHost'),
        undoStageTarget   : $('#undoStageHost'),
        saveTarget        : $('#saveHost'),
        restoreTarget     : $('#restoreHost'),
        resetTarget       : $('#reseteHost'),
      });
    });
  </script>
</body>
</html>
